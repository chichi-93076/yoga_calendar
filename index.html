<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/png" href="./yogaincon.png">
    <link rel="apple-touch-icon" href="./yogaincon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./yogaincon.png">
    <title>æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾è¡Œäº‹æ›†</title>
    <style>
        /* CSS æ¨£å¼ç¶­æŒä¸è®Šï¼Œä¿æŒåŸæœ¬çš„ç¾è§€è¨­è¨ˆ */
        body { font-family: "Noto Sans TC", sans-serif; background-color: #fff1f5; display: flex; justify-content: center; padding: 20px; margin: 0; }
        .calendar-container { width: 800px; background-color: #ffffff; border: 3px solid #ff9eb5; padding: 22px; border-radius: 22px; box-shadow: 6px 6px 0px #ff9eb5; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 18px; flex-wrap: wrap; gap: 10px; }
        .month-year { font-size: 32px; font-weight: bold; color: #ff7aa2; }
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); border-radius: 18px; overflow: hidden; border: 2px solid #ffd0dc; }
        .day-header { background-color: #ffe4ec; text-align: center; padding: 10px 0; font-weight: bold; color: #ff5c8a; font-size: 14px; border-bottom: 2px solid #ffd0dc; }
        .day-cell { padding: 10px; min-height: 80px; position: relative; background-color: #ffffff; border-right: 1px dashed #ffd0dc; border-bottom: 1px dashed #ffd0dc; }
        .day-cell:nth-child(7n) { border-right: none; }
        .day-number { font-size: 18px; font-weight: bold; color: #ff5c8a; background-color: #ffe4ec; display: inline-block; padding: 4px 10px; border-radius: 999px; margin-bottom: 6px; }
        
        /* èª²ç¨‹æ¨£å¼ */
        .event { background-color: #ffd6e3; padding: 8px 10px; margin-top: 6px; border-radius: 14px; font-size: 12px; color: #8a2c4a; box-shadow: 3px 3px 0px #ffb3c8; line-height: 1.5; }
        .day-cell:has(.event) { background-image: radial-gradient(#ffe4ec 1px, transparent 1px); background-size: 14px 14px; }
        
        /* Google æŒ‰éˆ• */
        .add-calendar { display: inline-block; margin-top: 6px; padding: 4px 10px; font-size: 12px; background-color: #ff7aa2; color: #fff; border-radius: 999px; text-decoration: none; box-shadow: 2px 2px 0 #ffb3c8; cursor: pointer; }
        .add-calendar:hover { background-color: #ff5c8a; }

        /* æ‰‹æ©Ÿç‰ˆ RWD */
        @media (max-width: 768px) {
            .calendar-grid { grid-template-columns: 1fr; display: flex; flex-direction: column; gap: 14px; border: none; }
            .day-header { display: none; }
            .day-cell:not(.has-event) { display: none; } /* ç”¨ JS åŠ  class ä¾†åˆ¤æ–· */
            .day-cell { display: block; border: 2px solid #ffd0dc; border-radius: 18px; padding: 14px 16px; box-shadow: 4px 4px 0 #ffb3c8; }
            .day-cell::before { content: attr(data-day); display: block; font-size: 14px; font-weight: bold; color: #ff7aa2; margin-bottom: 4px; }
        }
    </style>
</head>
<body>

    <div class="calendar-container">
        <div class="header">
            <div class="month-year" id="calendar-title">2026 å¹´ 1 æœˆä»½è¡Œäº‹æ›†</div>
        </div>
        
        <div class="calendar-grid" id="calendar-grid"></div>
    </div>

    <script>
        // ==========================================
        // ğŸŸ¢ è¨­å®šå€ï¼šè«‹åœ¨é€™è£¡ä¿®æ”¹ä½ çš„èª²ç¨‹è³‡æ–™
        // ==========================================
        const config = {
            title: "æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾ 2026 å¹´ 1 æœˆä»½è¡Œäº‹æ›†",
            startDate: "2025-12-28", // è¡Œäº‹æ›†æ ¼å­çš„ç¬¬ä¸€å¤© (é€šå¸¸æ˜¯ä¸Šå€‹æœˆçš„æœˆåº•)
            totalDays: 35,             // ç¸½å…±è¦ç•«å¹¾æ ¼ (5é€± x 7å¤© = 35)
            defaultLocation: "è‚²ç¾é¤¨éŸ»å¾‹æ•™å®¤"
        };

        const courseData = [
            { date: "2025-12-29", start: "17:15", end: "18:05", name: "æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾" },
            { date: "2025-12-31", start: "17:15", end: "18:05", name: "æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾" },
            { date: "2026-01-05", start: "17:15", end: "18:05", name: "æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾" },
            { date: "2026-01-08", start: "17:15", end: "18:05", name: "æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾" },
            { date: "2026-01-12", start: "16:40", end: "17:30", name: "æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾" },
            { date: "2026-01-14", start: "16:40", end: "17:30", name: "æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾" },
            { date: "2026-01-19", start: "16:40", end: "17:30", name: "æ•™è·å“¡é«”é©èƒ½ç‘œçˆç¤¾" }
        ];

        // ==========================================
        // ğŸ”´ ç¨‹å¼é‚è¼¯å€ (åº•ä¸‹ä¸ç”¨å‹•ï¼Œå®ƒæœƒè‡ªå·±é‹ä½œ)
        // ==========================================

        const weekDays = ["æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"];
        const gridContainer = document.getElementById('calendar-grid');
        document.getElementById('calendar-title').textContent = config.title;

        // 1. å…ˆç”¢ç”Ÿæ¨™é¡Œåˆ— (æ—¥~å…­)
        weekDays.forEach(day => {
            const header = document.createElement('div');
            header.className = 'day-header';
            header.textContent = day;
            gridContainer.appendChild(header);
        });

        // 2. ç”¢ç”Ÿæ—¥æœŸæ ¼å­
        let currentDate = new Date(config.startDate);

        for (let i = 0; i < config.totalDays; i++) {
            // æ ¼å¼åŒ–æ—¥æœŸå­—ä¸² YYYY-MM-DD ç”¨ä¾†æ¯”å° JSON
            const year = currentDate.getFullYear();
            const month = String(currentDate.getMonth() + 1).padStart(2, '0');
            const day = String(currentDate.getDate()).padStart(2, '0');
            const dateStr = `${year}-${month}-${day}`;
            const dayOfWeek = weekDays[currentDate.getDay()];

            // å»ºç«‹æ ¼å­ HTML çµæ§‹
            const cell = document.createElement('div');
            cell.className = 'day-cell';
            cell.setAttribute('data-day', dayOfWeek); // çµ¦æ‰‹æ©Ÿç‰ˆé¡¯ç¤ºç”¨

            // é¡¯ç¤ºæ—¥æœŸæ•¸å­—
            const numDiv = document.createElement('div');
            numDiv.className = 'day-number';
            numDiv.textContent = currentDate.getDate();
            cell.appendChild(numDiv);

            // æª¢æŸ¥é€™ä¸€å¤©æœ‰æ²’æœ‰èª²
            const event = courseData.find(c => c.date === dateStr);

            if (event) {
                cell.classList.add('has-event'); // æ¨™è¨˜æœ‰èª²ï¼Œçµ¦æ‰‹æ©Ÿç‰ˆåˆ¤æ–·é¡¯ç¤º

                // ç”¢ç”Ÿ Google Calendar é€£çµ
                const gLink = document.createElement('a');
                gLink.className = 'add-calendar';
                gLink.target = '_blank';
                gLink.textContent = 'â•';
                gLink.href = generateGoogleLink(event, config.defaultLocation);
                cell.appendChild(gLink);

                // ç”¢ç”Ÿèª²ç¨‹è³‡è¨Šå¡ç‰‡
                const eventInfo = document.createElement('div');
                eventInfo.className = 'event';
                eventInfo.innerHTML = `${event.start}â€“${event.end}<br>${config.defaultLocation}`;
                cell.appendChild(eventInfo);
            }

            gridContainer.appendChild(cell);

            // æ—¥æœŸ +1
            currentDate.setDate(currentDate.getDate() + 1);
        }

        // è¼”åŠ©åŠŸèƒ½ï¼šç”¢ç”Ÿ Google Calendar ç¶²å€
        function generateGoogleLink(event, location) {
            // ç°¡å–®çš„æ™‚é–“è½‰æ›ï¼šå°ç£æ™‚é–“ (UTC+8) è½‰ UTC (æ¸›8å°æ™‚)
            // æ ¼å¼éœ€æ±‚: YYYYMMDDTHHmmSSZ
            
            function toTC(dateStr, timeStr) {
                const dt = new Date(`${dateStr}T${timeStr}:00+08:00`); 
                return dt.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
            }

            const startUTC = toTC(event.date, event.start);
            const endUTC = toTC(event.date, event.end);
            
            const baseUrl = "https://calendar.google.com/calendar/render?action=TEMPLATE";
            const text = `&text=${encodeURIComponent(event.name)}`;
            const dates = `&dates=${startUTC}/${endUTC}`;
            const loc = `&location=${encodeURIComponent(location)}`;
            
            return baseUrl + text + dates + loc;
        }
    </script>
</body>
</html>